{
  "info": {
    "name": "AI Worker Productivity Dashboard API",
    "_postman_id": "b9e6a7a2-9c9c-4c3f-9c0f-1f3b7e8e9abc",
    "description": "Full API collection for setup, ingestion, metrics, cache, recompute and debug endpoints.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:4000/api" },
    { "key": "start", "value": "2026-01-15T09:00:00Z" },
    { "key": "end", "value": "2026-01-15T17:00:00Z" }
  ],
  "item": [
    {
      "name": "Health",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/health"
      }
    },
    {
      "name": "Setup DB",
      "request": {
        "method": "POST",
        "url": "{{baseUrl}}/setup-db"
      }
    },
    {
      "name": "Seed Medium",
      "request": {
        "method": "POST",
        "url": "{{baseUrl}}/seed?size=medium"
      }
    },
    {
      "name": "Seed Heavy",
      "request": {
        "method": "POST",
        "url": "{{baseUrl}}/seed?size=heavy"
      }
    },
    {
      "name": "Debug Counts",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/debug/counts"
      }
    },

    {
      "name": "Ingest Single Event (product_count)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/events",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"timestamp\": \"2026-01-15T10:15:00Z\",\n  \"worker_id\": \"W1\",\n  \"workstation_id\": \"S3\",\n  \"event_type\": \"product_count\",\n  \"confidence\": 0.93,\n  \"count\": 2\n}"
        }
      }
    },
    {
      "name": "Ingest Single Event (state working)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/events",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"timestamp\": \"2026-01-15T10:20:00Z\",\n  \"worker_id\": \"W1\",\n  \"workstation_id\": \"S3\",\n  \"event_type\": \"working\",\n  \"confidence\": 0.91\n}"
        }
      }
    },
    {
      "name": "Ingest Late Event (older timestamp)",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/events",
        "body": {
          "mode": "raw",
          "raw": "{\n  \"timestamp\": \"2026-01-15T08:30:00Z\",\n  \"worker_id\": \"W1\",\n  \"workstation_id\": \"S3\",\n  \"event_type\": \"product_count\",\n  \"confidence\": 0.88,\n  \"count\": 1\n}"
        }
      }
    },
    {
      "name": "Bulk Ingest Events",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/events/bulk",
        "body": {
          "mode": "raw",
          "raw": "[\n  {\n    \"timestamp\": \"2026-01-15T10:15:00Z\",\n    \"worker_id\": \"W2\",\n    \"workstation_id\": \"S2\",\n    \"event_type\": \"working\",\n    \"confidence\": 0.92\n  },\n  {\n    \"timestamp\": \"2026-01-15T10:18:00Z\",\n    \"worker_id\": \"W2\",\n    \"workstation_id\": \"S2\",\n    \"event_type\": \"product_count\",\n    \"confidence\": 0.9,\n    \"count\": 3\n  },\n  {\n    \"timestamp\": \"bad-date\",\n    \"worker_id\": \"W2\",\n    \"workstation_id\": \"S2\",\n    \"event_type\": \"working\",\n    \"confidence\": 0.8\n  }\n]"
        }
      }
    },

    {
      "name": "Get Pending Recompute Requests",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/recompute/pending"
      }
    },
    {
      "name": "Process Recompute Requests",
      "request": {
        "method": "POST",
        "header": [{ "key": "Content-Type", "value": "application/json" }],
        "url": "{{baseUrl}}/metrics/recompute",
        "body": {
          "mode": "raw",
          "raw": "{ \"limit\": 50 }"
        }
      }
    },

    {
      "name": "Worker Metrics (compute)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/worker/W1?start={{start}}&end={{end}}"
      }
    },
    {
      "name": "Workstation Metrics (compute)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/workstation/S1?start={{start}}&end={{end}}"
      }
    },
    {
      "name": "Factory Metrics (compute)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/factory?start={{start}}&end={{end}}"
      }
    },

    {
      "name": "Worker Metrics (cache read)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/cache/worker/W1?start={{start}}&end={{end}}"
      }
    },
    {
      "name": "Worker Metrics (cache populate)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/cache/worker/W1?start={{start}}&end={{end}}&populate=true"
      }
    },
    {
      "name": "Workstation Metrics (cache populate)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/cache/workstation/S1?start={{start}}&end={{end}}&populate=true"
      }
    },
    {
      "name": "Factory Metrics (cache populate)",
      "request": {
        "method": "GET",
        "url": "{{baseUrl}}/metrics/cache/factory?start={{start}}&end={{end}}&populate=true"
      }
    }
  ]
}